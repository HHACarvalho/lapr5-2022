<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1174px" preserveAspectRatio="none" style="width:1623px;height:1174px;background:#FFFFFF;" version="1.1" viewBox="0 0 1623 1174" width="1623px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFE0" height="1162.1016" style="stroke:#181818;stroke-width:0.5;" width="128" x="394.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102" x="407.5" y="19.4951">&lt;&lt;System(C4)&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58" x="435.5" y="35.8467">EletricGo</text><rect fill="#90EE90" height="1162.1016" style="stroke:#181818;stroke-width:0.5;" width="974" x="636" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="1043.5" y="19.4951">&lt;&lt;Container(C4)&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="1043.5" y="35.8467">Warehouse Management</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="453.5" y="125.2734"/><rect fill="#FFFFFF" height="876.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="453.5" y="185.9766"/><rect fill="#FFFFFF" height="273.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="700.5" y="241.6797"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="700.5" y="591.3828"/><rect fill="#FFFFFF" height="212.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="700.5" y="819.6797"/><rect fill="#FFFFFF" height="182.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="272.0313"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="591.3828"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="819.6797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1194.5" y="363.0859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1194.5" y="910.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1534.5" y="302.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1534.5" y="423.7891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1534.5" y="621.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1534.5" y="850.0313"/><rect fill="none" height="869.5156" style="stroke:#000000;stroke-width:1.5;" width="1606" x="10" y="200.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="89" x2="89" y1="92.9219" y2="1087.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="458.5" x2="458.5" y1="92.9219" y2="1087.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="705" x2="705" y1="92.9219" y2="1087.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="952" x2="952" y1="92.9219" y2="1087.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1199" x2="1199" y1="92.9219" y2="1087.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1369" x2="1369" y1="92.9219" y2="1087.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1539" x2="1539" y1="92.9219" y2="1087.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="20" y="89.8457">Warehouse Manager</text><ellipse cx="89.5" cy="23.8125" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M89.5,31.8125 L89.5,58.8125 M76.5,39.8125 L102.5,39.8125 M89.5,58.8125 L76.5,73.8125 M89.5,58.8125 L102.5,73.8125 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="20" y="1101.0254">Warehouse Manager</text><ellipse cx="89.5" cy="1112.6016" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M89.5,1120.6016 L89.5,1147.6016 M76.5,1128.6016 L102.5,1128.6016 M89.5,1147.6016 L76.5,1162.6016 M89.5,1147.6016 L102.5,1162.6016 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="398.5" y="42.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="405.5" y="64.2363">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="445" y="81.8457">SPA</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="398.5" y="1086.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="405.5" y="1108.0254">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="445" y="1125.6348">SPA</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="640" y="42.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="647" y="64.2363">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="649" y="81.8457">DeliveryController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="640" y="1086.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="647" y="1108.0254">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="649" y="1125.6348">DeliveryController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="887" y="42.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="894" y="64.2363">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="903.5" y="81.8457">DeliveryService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="887" y="1086.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="894" y="1108.0254">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="903.5" y="1125.6348">DeliveryService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="1134" y="42.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="1141" y="64.2363">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1142.5" y="81.8457">Delivery : Delivery</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="1134" y="1086.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="1141" y="1108.0254">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1142.5" y="1125.6348">Delivery : Delivery</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="188" x="1275" y="42.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="1310.5" y="64.2363">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="1282" y="81.8457">DeliveryDTO : DeliveryDTO</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="188" x="1275" y="1086.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="1310.5" y="1108.0254">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="1282" y="1125.6348">DeliveryDTO : DeliveryDTO</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="133" x="1473" y="42.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="1481" y="64.2363">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1480" y="81.8457">DeliveryRepository</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="133" x="1473" y="1086.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="1481" y="1108.0254">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1480" y="1125.6348">DeliveryRepository</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="453.5" y="125.2734"/><rect fill="#FFFFFF" height="876.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="453.5" y="185.9766"/><rect fill="#FFFFFF" height="273.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="700.5" y="241.6797"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="700.5" y="591.3828"/><rect fill="#FFFFFF" height="212.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="700.5" y="819.6797"/><rect fill="#FFFFFF" height="182.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="272.0313"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="591.3828"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="819.6797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1194.5" y="363.0859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1194.5" y="910.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1534.5" y="302.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1534.5" y="423.7891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1534.5" y="621.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1534.5" y="850.0313"/><polygon fill="#181818" points="441.5,121.2734,451.5,125.2734,441.5,129.2734,445.5,125.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89.5" x2="447.5" y1="125.2734" y2="125.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="96.5" y="120.417">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="107.5" y="120.417">I want to update a Delivery</text><polygon fill="#181818" points="100.5,151.625,90.5,155.625,100.5,159.625,96.5,155.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="457.5" y1="155.625" y2="155.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="106.5" y="150.7686">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="117.5" y="150.7686">asks for the details of the Delivery which is to be updated</text><polygon fill="#181818" points="441.5,181.9766,451.5,185.9766,441.5,189.9766,445.5,185.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89.5" x2="447.5" y1="185.9766" y2="185.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="96.5" y="181.1201">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="107.5" y="181.1201">inserts the information about the new Delivery</text><path d="M10,200.9766 L71,200.9766 L71,209.3281 L61,219.3281 L10,219.3281 L10,200.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="869.5156" style="stroke:#000000;stroke-width:1.5;" width="1606" x="10" y="200.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="215.4717">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="199" x="86" y="214.3955">[If the Delivery exists in the system]</text><polygon fill="#181818" points="688.5,237.6797,698.5,241.6797,688.5,245.6797,692.5,241.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="463.5" x2="694.5" y1="241.6797" y2="241.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="470.5" y="236.8232">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="481.5" y="236.8232">PATCH Patch(DeliveryDTO)</text><polygon fill="#181818" points="935.5,268.0313,945.5,272.0313,935.5,276.0313,939.5,272.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="710.5" x2="941.5" y1="272.0313" y2="272.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="717.5" y="267.1748">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="728.5" y="267.1748">UpdatingDelivery(DeliveryDto)</text><polygon fill="#181818" points="1522.5,298.3828,1532.5,302.3828,1522.5,306.3828,1526.5,302.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="1528.5" y1="302.3828" y2="302.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="964.5" y="297.5264">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="975.5" y="297.5264">GetByID(DeliveryId)</text><polygon fill="#181818" points="968.5,328.7344,958.5,332.7344,968.5,336.7344,964.5,332.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="962.5" x2="1538.5" y1="332.7344" y2="332.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="974.5" y="327.8779">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="985.5" y="327.8779">Delivery</text><polygon fill="#181818" points="1182.5,359.0859,1192.5,363.0859,1182.5,367.0859,1186.5,363.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="1188.5" y1="363.0859" y2="363.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="964.5" y="358.2295">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="975.5" y="358.2295">Update(DeliveryDTO)</text><polygon fill="#181818" points="968.5,389.4375,958.5,393.4375,968.5,397.4375,964.5,393.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="962.5" x2="1198.5" y1="393.4375" y2="393.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="974.5" y="388.5811">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="985.5" y="388.5811">delivery</text><polygon fill="#181818" points="1522.5,419.7891,1532.5,423.7891,1522.5,427.7891,1526.5,423.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="1528.5" y1="423.7891" y2="423.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="964.5" y="418.9326">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="982.5" y="418.9326">commit()</text><polygon fill="#181818" points="721.5,450.1406,711.5,454.1406,721.5,458.1406,717.5,454.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="715.5" x2="951.5" y1="454.1406" y2="454.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="727.5" y="449.2842">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="745.5" y="449.2842">toDeliveryDTO()</text><polygon fill="#181818" points="474.5,480.4922,464.5,484.4922,474.5,488.4922,470.5,484.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="699.5" y1="484.4922" y2="484.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="480.5" y="479.6357">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="498.5" y="479.6357">DeliveryDto</text><polygon fill="#181818" points="474.5,510.8438,464.5,514.8438,474.5,518.8438,470.5,514.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="704.5" y1="514.8438" y2="514.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="480.5" y="509.9873">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="498.5" y="509.9873">200 OK</text><polygon fill="#181818" points="100.5,541.1953,90.5,545.1953,100.5,549.1953,96.5,545.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="452.5" y1="545.1953" y2="545.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="106.5" y="540.3389">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="124.5" y="540.3389">informs about the success of the operation</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1616" y1="554.1953" y2="554.1953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="158" x="15" y="565.6143">[If the delivery doesn't exist]</text><polygon fill="#181818" points="935.5,587.3828,945.5,591.3828,935.5,595.3828,939.5,591.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="710.5" x2="941.5" y1="591.3828" y2="591.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="717.5" y="586.5264">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="735.5" y="586.5264">UpdateDelivery(DeliveryDto)</text><polygon fill="#181818" points="1522.5,617.7344,1532.5,621.7344,1522.5,625.7344,1526.5,621.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="1528.5" y1="621.7344" y2="621.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="964.5" y="616.8779">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="982.5" y="616.8779">GetByID(DeliveryID)</text><polygon fill="#181818" points="968.5,648.0859,958.5,652.0859,968.5,656.0859,964.5,652.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="962.5" x2="1538.5" y1="652.0859" y2="652.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="974.5" y="647.2295">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="992.5" y="647.2295">null</text><polygon fill="#181818" points="721.5,678.4375,711.5,682.4375,721.5,686.4375,717.5,682.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="715.5" x2="951.5" y1="682.4375" y2="682.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="727.5" y="677.5811">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="745.5" y="677.5811">NotFoundException</text><polygon fill="#181818" points="474.5,708.7891,464.5,712.7891,474.5,716.7891,470.5,712.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="699.5" y1="712.7891" y2="712.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="480.5" y="707.9326">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="498.5" y="707.9326">NotFoundException</text><polygon fill="#181818" points="474.5,739.1406,464.5,743.1406,474.5,747.1406,470.5,743.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="704.5" y1="743.1406" y2="743.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="480.5" y="738.2842">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="498.5" y="738.2842">404 Not Found</text><polygon fill="#181818" points="100.5,769.4922,90.5,773.4922,100.5,777.4922,96.5,773.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="452.5" y1="773.4922" y2="773.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="106.5" y="768.6357">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="124.5" y="768.6357">informs about the fail of the operation</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1616" y1="782.4922" y2="782.4922"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="285" x="15" y="793.9111">[If the attributes do not respect the business rules]</text><polygon fill="#181818" points="935.5,815.6797,945.5,819.6797,935.5,823.6797,939.5,819.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="710.5" x2="941.5" y1="819.6797" y2="819.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="717.5" y="814.8232">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="735.5" y="814.8232">UpdateDelivery(DeliveryDto)</text><polygon fill="#181818" points="1522.5,846.0313,1532.5,850.0313,1522.5,854.0313,1526.5,850.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="1528.5" y1="850.0313" y2="850.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="964.5" y="845.1748">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="982.5" y="845.1748">GetByID(DeliveryID)</text><polygon fill="#181818" points="968.5,876.3828,958.5,880.3828,968.5,884.3828,964.5,880.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="962.5" x2="1538.5" y1="880.3828" y2="880.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="974.5" y="875.5264">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="992.5" y="875.5264">delivery</text><polygon fill="#181818" points="1182.5,906.7344,1192.5,910.7344,1182.5,914.7344,1186.5,910.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="1188.5" y1="910.7344" y2="910.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="964.5" y="905.8779">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="982.5" y="905.8779">Update(DeliveryDto)</text><polygon fill="#181818" points="968.5,937.0859,958.5,941.0859,968.5,945.0859,964.5,941.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="962.5" x2="1198.5" y1="941.0859" y2="941.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="974.5" y="936.2295">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="992.5" y="936.2295">BusinessRuleValidationException</text><polygon fill="#181818" points="721.5,967.4375,711.5,971.4375,721.5,975.4375,717.5,971.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="715.5" x2="951.5" y1="971.4375" y2="971.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="727.5" y="966.5811">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="745.5" y="966.5811">BusinessRuleValidationException</text><polygon fill="#181818" points="474.5,997.7891,464.5,1001.7891,474.5,1005.7891,470.5,1001.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="699.5" y1="1001.7891" y2="1001.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="480.5" y="996.9326">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="498.5" y="996.9326">BusinessRuleValidationException</text><polygon fill="#181818" points="474.5,1028.1406,464.5,1032.1406,474.5,1036.1406,470.5,1032.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="704.5" y1="1032.1406" y2="1032.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="480.5" y="1027.2842">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="498.5" y="1027.2842">400 BAD REQUEST</text><polygon fill="#181818" points="100.5,1058.4922,90.5,1062.4922,100.5,1066.4922,96.5,1062.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="457.5" y1="1062.4922" y2="1062.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="106.5" y="1057.6357">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="124.5" y="1057.6357">informs about the fail of the operation</text><!--MD5=[02c3bd5210fd96d50f8d2fbae5094259]
@startuml updateDeliverySD
autonumber

skinparam sequence {
ParticipantBorderColor black
ParticipantBackgroundColor white
}

actor "Warehouse Manager" as admin


box "<<System(C4)>>\n       EletricGo" #LightYellow
participant SPA as ui <<Container(C4)>>
box "<<Container(C4)>>\nWarehouse Management" #LightGreen
participant DeliveryController as  CTL <<Component(C4)>>
participant DeliveryService as  SV <<Component(C4)>>
participant "Delivery : Delivery" as  delivery <<Component(C4)>>
participant "DeliveryDTO : DeliveryDTO" as  DTO <<Component(C4)>>
participant DeliveryRepository as  DR <<Component(C4)>>
end box
end box

admin -> ui: I want to update a Delivery
activate ui

ui - -> admin: asks for the details of the Delivery which is to be updated
deactivate ui

admin -> ui: inserts the information about the new Delivery

activate ui

alt If the Delivery exists in the system
ui -> CTL: PATCH Patch(DeliveryDTO)
activate CTL
CTL -> SV : UpdatingDelivery(DeliveryDto)
activate SV

SV -> DR: GetByID(DeliveryId)
activate DR
DR - -> SV: Delivery
deactivate DR

SV -> delivery : Update(DeliveryDTO)
activate delivery
delivery - -> SV : delivery 
deactivate delivery

SV -> DR : commit()
activate DR

SV - -> CTL : toDeliveryDTO()
deactivate DR
deactivate SV
CTL - -> ui : DeliveryDto

CTL - -> ui: 200 OK
deactivate CTL

ui - -> admin: informs about the success of the operation


else If the delivery doesn't exist


CTL -> SV : UpdateDelivery(DeliveryDto)
activate CTL
activate SV

SV -> DR : GetByID(DeliveryID)
activate DR
DR - -> SV : null
deactivate DR


SV - -> CTL : NotFoundException
deactivate SV
CTL - -> ui : NotFoundException


CTL - -> ui: 404 Not Found
deactivate CTL


ui - -> admin: informs about the fail of the operation


else If the attributes do not respect the business rules


CTL -> SV : UpdateDelivery(DeliveryDto)
activate CTL
activate SV

SV -> DR : GetByID(DeliveryID)
activate DR
DR - -> SV : delivery
deactivate DR

SV -> delivery : Update(DeliveryDto)


activate delivery
delivery - -> SV : BusinessRuleValidationException
deactivate delivery

SV - -> CTL : BusinessRuleValidationException
deactivate SV
CTL - -> ui : BusinessRuleValidationException

CTL - -> ui: 400 BAD REQUEST
deactivate CTL
ui - -> admin: informs about the fail of the operation

deactivate ui
end 
deactivate admin

@enduml

PlantUML version 1.2022.12(Sun Oct 23 18:12:26 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>