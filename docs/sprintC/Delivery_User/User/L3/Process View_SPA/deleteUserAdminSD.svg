<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1358px" preserveAspectRatio="none" style="width:1462px;height:1358px;background:#FFFFFF;" version="1.1" viewBox="0 0 1462 1358" width="1462px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFE0" height="1346.4141" style="stroke:#181818;stroke-width:0.5;" width="1195.5" x="247.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102" x="794.25" y="19.4951">&lt;&lt;System(C4)&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58" x="822.25" y="35.8467">EletricGo</text><rect fill="#E0FFFF" height="1308.7109" style="stroke:#181818;stroke-width:0.5;" width="619" x="247.5" y="43.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="498" y="57.1982">&lt;&lt;Container(C4)&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="13" x="542" y="73.5498">UI</text><rect fill="#87CEFA" height="1308.7109" style="stroke:#181818;stroke-width:0.5;" width="517" x="926" y="43.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="1125.5" y="57.1982">&lt;&lt;Container(C4)&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="1125.5" y="73.5498">Authentication</text><rect fill="none" height="649.8672" style="stroke:#000000;stroke-width:1.5;" width="1411" x="44" y="200.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="27.5" x2="27.5" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="1097.7891" style="stroke:#181818;stroke-width:1.0;" width="10" x="22.5" y="166.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="112" x2="112" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="107" y="569.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="317" x2="317" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="698.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="312" y="188.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="486" x2="486" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="481" y="251.0703"/><rect fill="#FFFFFF" height="212.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="481" y="629.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="641.5" x2="641.5" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="333.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="636.5" y="916.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="797" x2="797" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="212.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="1007.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="990" x2="990" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="195.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="985" y="281.4219"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="985" y="660.125"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="985" y="1038.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1159" x2="1159" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="134.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1154" y="311.7734"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1154" y="690.4766"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1154" y="1068.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1379" x2="1379" y1="158.0156" y2="1268.8047"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1374" y="342.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1374" y="720.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1374" y="1099.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="154.9395">Admin</text><ellipse cx="27.5" cy="88.9063" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.5,96.9063 L27.5,123.9063 M14.5,104.9063 L40.5,104.9063 M27.5,123.9063 L14.5,138.9063 M27.5,123.9063 L40.5,138.9063 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="104" x="60" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="67" y="129.3301">«System(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="89" y="146.9395">Google</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="251.5" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="258.5" y="129.3301">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="268.5" y="146.9395">LoginController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="420.5" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="427.5" y="129.3301">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="445" y="146.9395">LoginService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="160" x="561.5" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="583" y="129.3301">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="568.5" y="146.9395">CancelUserComponent</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="731.5" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="738.5" y="129.3301">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="754" y="146.9395">AdminService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="930" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="937" y="129.3301">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="944.5" y="146.9395">UserController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="1099" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1106" y="129.3301">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1121" y="146.9395">UserService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="1319" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1326" y="129.3301">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1330.5" y="146.9395">UserRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="1343.3379">Admin</text><ellipse cx="27.5" cy="1277.3047" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.5,1285.3047 L27.5,1312.3047 M14.5,1293.3047 L40.5,1293.3047 M27.5,1312.3047 L14.5,1327.3047 M27.5,1312.3047 L40.5,1327.3047 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="104" x="60" y="1268.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="67" y="1290.3379">«System(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="89" y="1307.9473">Google</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="251.5" y="1268.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="258.5" y="1290.3379">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="268.5" y="1307.9473">LoginController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="420.5" y="1268.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="427.5" y="1290.3379">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="445" y="1307.9473">LoginService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="160" x="561.5" y="1268.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="583" y="1290.3379">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="568.5" y="1307.9473">CancelUserComponent</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="731.5" y="1268.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="738.5" y="1290.3379">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="754" y="1307.9473">AdminService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="930" y="1268.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="937" y="1290.3379">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="944.5" y="1307.9473">UserController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="1099" y="1268.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1106" y="1290.3379">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1121" y="1307.9473">UserService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="1319" y="1268.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1326" y="1290.3379">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1330.5" y="1307.9473">UserRepository</text><polygon fill="#181818" points="300,184.3672,310,188.3672,300,192.3672,304,188.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="32.5" x2="306" y1="188.3672" y2="188.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="39.5" y="183.5107">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="50.5" y="183.5107">I want to login</text><path d="M44,200.3672 L105,200.3672 L105,208.7188 L95,218.7188 L44,218.7188 L44,200.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="649.8672" style="stroke:#000000;stroke-width:1.5;" width="1411" x="44" y="200.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="59" y="214.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="266" x="120" y="213.7861">[Login through email and password in EletricGo]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="1455" y1="525.8828" y2="525.8828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="128" x="49" y="539.3018">[Login through Google]</text><polygon fill="#181818" points="469,247.0703,479,251.0703,469,255.0703,473,251.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="322" x2="475" y1="251.0703" y2="251.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="329" y="246.2139">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="340" y="246.2139">login(email, password)</text><polygon fill="#181818" points="973,277.4219,983,281.4219,973,285.4219,977,281.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="979" y1="281.4219" y2="281.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="498" y="276.5654">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="509" y="276.5654">POST Login(email, password)</text><polygon fill="#181818" points="1142,307.7734,1152,311.7734,1142,315.7734,1146,311.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="995" x2="1148" y1="311.7734" y2="311.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1002" y="306.917">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1013" y="306.917">login(email, password)</text><polygon fill="#181818" points="1362,338.125,1372,342.125,1362,346.125,1366,342.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1164" x2="1368" y1="342.125" y2="342.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1171" y="337.2686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1182" y="337.2686">findByEmail(email)</text><polygon fill="#181818" points="1175,368.4766,1165,372.4766,1175,376.4766,1171,372.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1169" x2="1373" y1="372.4766" y2="372.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1181" y="367.6201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1192" y="367.6201">User</text><line style="stroke:#181818;stroke-width:1.0;" x1="1164" x2="1206" y1="402.8281" y2="402.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1206" x2="1206" y1="402.8281" y2="415.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1165" x2="1206" y1="415.8281" y2="415.8281"/><polygon fill="#181818" points="1175,411.8281,1165,415.8281,1175,419.8281,1171,415.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1171" y="397.9717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1182" y="397.9717">checkPassword(password, User)</text><polygon fill="#181818" points="1006,442.1797,996,446.1797,1006,450.1797,1002,446.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1000" x2="1153" y1="446.1797" y2="446.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1012" y="441.3232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="1023" y="441.3232">Success</text><polygon fill="#181818" points="502,472.5313,492,476.5313,502,480.5313,498,476.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="496" x2="984" y1="476.5313" y2="476.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="508" y="471.6748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="519" y="471.6748">200 OK + Cookie</text><polygon fill="#181818" points="333,502.8828,323,506.8828,333,510.8828,329,506.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="327" x2="480" y1="506.8828" y2="506.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="339" y="502.0264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="357" y="502.0264">200 OK</text><polygon fill="#181818" points="128,565.0703,118,569.0703,128,573.0703,124,569.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="122" x2="311" y1="569.0703" y2="569.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="134" y="564.2139">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="152" y="564.2139">Login with Google account</text><polygon fill="#181818" points="300,595.4219,310,599.4219,300,603.4219,304,599.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="117" x2="306" y1="599.4219" y2="599.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="124" y="594.5654">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="142" y="594.5654">200 OK</text><polygon fill="#181818" points="469,625.7734,479,629.7734,469,633.7734,473,629.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="322" x2="475" y1="629.7734" y2="629.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="329" y="624.917">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="347" y="624.917">loginWithGoogle()</text><polygon fill="#181818" points="973,656.125,983,660.125,973,664.125,977,660.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="979" y1="660.125" y2="660.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="498" y="655.2686">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="516" y="655.2686">POST LoginWithGoogle()</text><polygon fill="#181818" points="1142,686.4766,1152,690.4766,1142,694.4766,1146,690.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="995" x2="1148" y1="690.4766" y2="690.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1002" y="685.6201">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1020" y="685.6201">userExists()</text><polygon fill="#181818" points="1362,716.8281,1372,720.8281,1362,724.8281,1366,720.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1164" x2="1368" y1="720.8281" y2="720.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1171" y="715.9717">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1189" y="715.9717">findByEmail(email)</text><polygon fill="#181818" points="1175,747.1797,1165,751.1797,1175,755.1797,1171,751.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1169" x2="1373" y1="751.1797" y2="751.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1181" y="746.3232">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1199" y="746.3232">User</text><polygon fill="#181818" points="1006,777.5313,996,781.5313,1006,785.5313,1002,781.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1000" x2="1153" y1="781.5313" y2="781.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1012" y="776.6748">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1030" y="776.6748">User</text><polygon fill="#181818" points="502,807.8828,492,811.8828,502,815.8828,498,811.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="496" x2="984" y1="811.8828" y2="811.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="508" y="807.0264">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="526" y="807.0264">200 OK + Cookie</text><polygon fill="#181818" points="333,838.2344,323,842.2344,333,846.2344,329,842.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="327" x2="480" y1="842.2344" y2="842.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="339" y="837.3779">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="357" y="837.3779">200 OK</text><polygon fill="#181818" points="43.5,882.5859,33.5,886.5859,43.5,890.5859,39.5,886.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37.5" x2="311" y1="886.5859" y2="886.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="49.5" y="881.7295">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="67.5" y="881.7295">informs about the success of login</text><polygon fill="#181818" points="624.5,912.9375,634.5,916.9375,624.5,920.9375,628.5,916.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="32.5" x2="630.5" y1="916.9375" y2="916.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="39.5" y="912.0811">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="57.5" y="912.0811">I want to delete a user</text><polygon fill="#181818" points="43.5,943.2891,33.5,947.2891,43.5,951.2891,39.5,947.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37.5" x2="635.5" y1="947.2891" y2="947.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="49.5" y="942.4326">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="67.5" y="942.4326">displays a list of available users</text><polygon fill="#181818" points="624.5,973.6406,634.5,977.6406,624.5,981.6406,628.5,977.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="32.5" x2="630.5" y1="977.6406" y2="977.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="39.5" y="972.7842">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="57.5" y="972.7842">selects a user to delete</text><polygon fill="#181818" points="780,1003.9922,790,1007.9922,780,1011.9922,784,1007.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="646.5" x2="786" y1="1007.9922" y2="1007.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="653.5" y="1003.1357">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="671.5" y="1003.1357">updateUser(data)</text><polygon fill="#181818" points="973,1034.3438,983,1038.3438,973,1042.3438,977,1038.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="802" x2="979" y1="1038.3438" y2="1038.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="809" y="1033.4873">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="827" y="1033.4873">PATCH updateUser(data)</text><polygon fill="#181818" points="1142,1064.6953,1152,1068.6953,1142,1072.6953,1146,1068.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="995" x2="1148" y1="1068.6953" y2="1068.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1002" y="1063.8389">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1020" y="1063.8389">updateUser(data)</text><polygon fill="#181818" points="1362,1095.0469,1372,1099.0469,1362,1103.0469,1366,1099.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1164" x2="1368" y1="1099.0469" y2="1099.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1171" y="1094.1904">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="1189" y="1094.1904">save(data)</text><polygon fill="#181818" points="1175,1125.3984,1165,1129.3984,1175,1133.3984,1171,1129.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1169" x2="1373" y1="1129.3984" y2="1129.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1181" y="1124.542">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1199" y="1124.542"> </text><polygon fill="#181818" points="1006,1155.75,996,1159.75,1006,1163.75,1002,1159.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1000" x2="1153" y1="1159.75" y2="1159.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1012" y="1154.8936">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1030" y="1154.8936"> </text><polygon fill="#181818" points="813,1186.1016,803,1190.1016,813,1194.1016,809,1190.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="807" x2="984" y1="1190.1016" y2="1190.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="819" y="1185.2451">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="837" y="1185.2451"> </text><polygon fill="#181818" points="657.5,1216.4531,647.5,1220.4531,657.5,1224.4531,653.5,1220.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="651.5" x2="791" y1="1220.4531" y2="1220.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="663.5" y="1215.5967">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="681.5" y="1215.5967"> </text><polygon fill="#181818" points="43.5,1246.8047,33.5,1250.8047,43.5,1254.8047,39.5,1250.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37.5" x2="635.5" y1="1250.8047" y2="1250.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="49.5" y="1245.9482">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="67.5" y="1245.9482">deletes the account and redirects to the main</text><!--MD5=[e0c2f93bde0b8e4e59368365256a6728]
@startuml deleteUserAdminSD
autonumber

!pragma teoz true
skinparam sequence {
ParticipantBorderColor black
ParticipantBackgroundColor white
}

actor "Admin" as admin

participant Google as Google <<System(C4)>>

box "<<System(C4)>>\n       EletricGo" #LightYellow

    box "<<Container(C4)>>\n           UI" #LightCyan
        
        participant LoginController as loginController <<Component(C4)>>
        participant LoginService as loginService <<Component(C4)>>
    
        participant CancelUserComponent as cancelUserComponent <<Component(C4)>>
        participant AdminService as adminService <<Component(C4)>>
        
    end box

    box "<<Container(C4)>>\nAuthentication" #LightSkyBlue

        participant UserController as userController <<Container(C4)>> 
        participant UserService as userService <<Container(C4)>> 
        participant UserRepository as userRepository <<Container(C4)>> 

    end box


end box

activate admin
admin->loginController: I want to login

activate loginController

alt Login through email and password in EletricGo


    loginController -> loginService: login(email, password)
    activate loginService
    loginService -> userController: POST Login(email, password)
    activate userController

    userController -> userService: login(email, password)
    activate userService
    userService -> userRepository: findByEmail(email)
    activate userRepository
    userRepository - -> userService: User
    deactivate userRepository
    userService -> userService: checkPassword(password, User)
    userService - -> userController: Success
    deactivate userService


    userController - -> loginService: 200 OK + Cookie
    deactivate userController

    loginService - -> loginController: 200 OK
    deactivate loginService

else Login through Google

    loginController -> Google: Login with Google account
    activate Google
    Google - -> loginController: 200 OK
    deactivate
    loginController -> loginService: loginWithGoogle()
    activate loginService
    loginService -> userController: POST LoginWithGoogle()
    activate userController
    userController -> userService: userExists()
    activate userService
    userService -> userRepository: findByEmail(email)
    activate userRepository
    userRepository - -> userService: User
    deactivate userRepository
    userService - -> userController: User
    deactivate userService
    userController - -> loginService: 200 OK + Cookie
    deactivate userController
    loginService - -> loginController: 200 OK
    deactivate loginService

end

loginController - -> admin: informs about the success of login
deactivate loginController

admin -> cancelUserComponent: I want to delete a user
activate cancelUserComponent

cancelUserComponent - -> admin: displays a list of available users

admin -> cancelUserComponent: selects a user to delete

cancelUserComponent -> adminService: updateUser(data)
activate adminService

adminService -> userController: PATCH updateUser(data)
activate userController

userController -> userService: updateUser(data)
activate userService

userService -> userRepository: save(data)
activate userRepository

userRepository - -> userService
deactivate userRepository

userService - -> userController
deactivate userService

userController - -> adminService
deactivate userController

adminService - -> cancelUserComponent
deactivate adminService

cancelUserComponent - -> admin: deletes the account and redirects to the main
deactivate cancelUserComponent

deactivate admin

@enduml

PlantUML version 1.2022.12(Sun Oct 23 18:12:26 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>