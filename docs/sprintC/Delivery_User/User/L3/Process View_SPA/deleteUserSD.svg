<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1601px" preserveAspectRatio="none" style="width:1484px;height:1601px;background:#FFFFFF;" version="1.1" viewBox="0 0 1484 1601" width="1484px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFE0" height="1589.2266" style="stroke:#181818;stroke-width:0.5;" width="1217.5" x="247.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102" x="805.25" y="19.4951">&lt;&lt;System(C4)&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58" x="833.25" y="35.8467">EletricGo</text><rect fill="#E0FFFF" height="1551.5234" style="stroke:#181818;stroke-width:0.5;" width="641" x="247.5" y="43.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="509" y="57.1982">&lt;&lt;Container(C4)&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="13" x="553" y="73.5498">UI</text><rect fill="#87CEFA" height="1551.5234" style="stroke:#181818;stroke-width:0.5;" width="517" x="948" y="43.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="1147.5" y="57.1982">&lt;&lt;Container(C4)&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="1147.5" y="73.5498">Authentication</text><rect fill="none" height="649.8672" style="stroke:#000000;stroke-width:1.5;" width="1433" x="44" y="200.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="27.5" x2="27.5" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="1340.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="22.5" y="166.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="112" x2="112" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="107" y="569.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="317" x2="317" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="698.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="312" y="188.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="486" x2="486" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="481" y="251.0703"/><rect fill="#FFFFFF" height="212.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="481" y="629.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="652.5" x2="652.5" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="576.6797" style="stroke:#181818;stroke-width:1.0;" width="10" x="647.5" y="916.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="819" x2="819" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="212.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="814" y="947.2891"/><rect fill="#FFFFFF" height="212.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="814" y="1250.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1012" x2="1012" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="195.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1007" y="281.4219"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1007" y="660.125"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1007" y="977.6406"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1007" y="1281.1563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1181" x2="1181" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="134.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="311.7734"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="690.4766"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="1007.9922"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="1311.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1401" x2="1401" y1="158.0156" y2="1511.6172"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1396" y="342.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1396" y="720.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1396" y="1038.3438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1396" y="1341.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="154.9395">Admin</text><ellipse cx="27.5" cy="88.9063" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.5,96.9063 L27.5,123.9063 M14.5,104.9063 L40.5,104.9063 M27.5,123.9063 L14.5,138.9063 M27.5,123.9063 L40.5,138.9063 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="104" x="60" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="67" y="129.3301">«System(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="89" y="146.9395">Google</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="251.5" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="258.5" y="129.3301">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="268.5" y="146.9395">LoginController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="420.5" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="427.5" y="129.3301">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="445" y="146.9395">LoginService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="182" x="561.5" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="594" y="129.3301">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="568.5" y="146.9395">CancelAccountComponent</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="753.5" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="760.5" y="129.3301">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="776" y="146.9395">AdminService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="952" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="959" y="129.3301">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="966.5" y="146.9395">UserController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="1121" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1128" y="129.3301">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1143" y="146.9395">UserService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="1341" y="107.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1348" y="129.3301">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1352.5" y="146.9395">UserRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="1586.1504">Admin</text><ellipse cx="27.5" cy="1520.1172" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.5,1528.1172 L27.5,1555.1172 M14.5,1536.1172 L40.5,1536.1172 M27.5,1555.1172 L14.5,1570.1172 M27.5,1555.1172 L40.5,1570.1172 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="104" x="60" y="1511.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="67" y="1533.1504">«System(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="89" y="1550.7598">Google</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="251.5" y="1511.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="258.5" y="1533.1504">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="268.5" y="1550.7598">LoginController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="420.5" y="1511.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="427.5" y="1533.1504">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="445" y="1550.7598">LoginService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="182" x="561.5" y="1511.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="594" y="1533.1504">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="568.5" y="1550.7598">CancelAccountComponent</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="131" x="753.5" y="1511.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="760.5" y="1533.1504">«Component(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="776" y="1550.7598">AdminService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="952" y="1511.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="959" y="1533.1504">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="966.5" y="1550.7598">UserController</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="1121" y="1511.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1128" y="1533.1504">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1143" y="1550.7598">UserService</text><rect fill="#FFFFFF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="120" x="1341" y="1511.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1348" y="1533.1504">«Container(C4)»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1352.5" y="1550.7598">UserRepository</text><polygon fill="#181818" points="300,184.3672,310,188.3672,300,192.3672,304,188.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="32.5" x2="306" y1="188.3672" y2="188.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="39.5" y="183.5107">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="50.5" y="183.5107">I want to login</text><path d="M44,200.3672 L105,200.3672 L105,208.7188 L95,218.7188 L44,218.7188 L44,200.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="649.8672" style="stroke:#000000;stroke-width:1.5;" width="1433" x="44" y="200.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="59" y="214.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="266" x="120" y="213.7861">[Login through email and password in EletricGo]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="1477" y1="525.8828" y2="525.8828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="128" x="49" y="539.3018">[Login through Google]</text><polygon fill="#181818" points="469,247.0703,479,251.0703,469,255.0703,473,251.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="322" x2="475" y1="251.0703" y2="251.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="329" y="246.2139">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="340" y="246.2139">login(email, password)</text><polygon fill="#181818" points="995,277.4219,1005,281.4219,995,285.4219,999,281.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="1001" y1="281.4219" y2="281.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="498" y="276.5654">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="509" y="276.5654">POST Login(email, password)</text><polygon fill="#181818" points="1164,307.7734,1174,311.7734,1164,315.7734,1168,311.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1017" x2="1170" y1="311.7734" y2="311.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1024" y="306.917">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1035" y="306.917">login(email, password)</text><polygon fill="#181818" points="1384,338.125,1394,342.125,1384,346.125,1388,342.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1390" y1="342.125" y2="342.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1193" y="337.2686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1204" y="337.2686">findByEmail(email)</text><polygon fill="#181818" points="1197,368.4766,1187,372.4766,1197,376.4766,1193,372.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1191" x2="1395" y1="372.4766" y2="372.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1203" y="367.6201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1214" y="367.6201">User</text><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1228" y1="402.8281" y2="402.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1228" x2="1228" y1="402.8281" y2="415.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1187" x2="1228" y1="415.8281" y2="415.8281"/><polygon fill="#181818" points="1197,411.8281,1187,415.8281,1197,419.8281,1193,415.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1193" y="397.9717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1204" y="397.9717">checkPassword(password, User)</text><polygon fill="#181818" points="1028,442.1797,1018,446.1797,1028,450.1797,1024,446.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1022" x2="1175" y1="446.1797" y2="446.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1034" y="441.3232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="1045" y="441.3232">Success</text><polygon fill="#181818" points="502,472.5313,492,476.5313,502,480.5313,498,476.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="496" x2="1006" y1="476.5313" y2="476.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="508" y="471.6748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="519" y="471.6748">200 OK + Cookie</text><polygon fill="#181818" points="333,502.8828,323,506.8828,333,510.8828,329,506.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="327" x2="480" y1="506.8828" y2="506.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="339" y="502.0264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="357" y="502.0264">200 OK</text><polygon fill="#181818" points="128,565.0703,118,569.0703,128,573.0703,124,569.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="122" x2="311" y1="569.0703" y2="569.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="134" y="564.2139">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="152" y="564.2139">Login with Google account</text><polygon fill="#181818" points="300,595.4219,310,599.4219,300,603.4219,304,599.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="117" x2="306" y1="599.4219" y2="599.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="124" y="594.5654">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="142" y="594.5654">200 OK</text><polygon fill="#181818" points="469,625.7734,479,629.7734,469,633.7734,473,629.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="322" x2="475" y1="629.7734" y2="629.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="329" y="624.917">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="347" y="624.917">loginWithGoogle()</text><polygon fill="#181818" points="995,656.125,1005,660.125,995,664.125,999,660.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="1001" y1="660.125" y2="660.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="498" y="655.2686">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="516" y="655.2686">POST LoginWithGoogle()</text><polygon fill="#181818" points="1164,686.4766,1174,690.4766,1164,694.4766,1168,690.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1017" x2="1170" y1="690.4766" y2="690.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1024" y="685.6201">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1042" y="685.6201">userExists()</text><polygon fill="#181818" points="1384,716.8281,1394,720.8281,1384,724.8281,1388,720.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1390" y1="720.8281" y2="720.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1193" y="715.9717">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1211" y="715.9717">findByEmail(email)</text><polygon fill="#181818" points="1197,747.1797,1187,751.1797,1197,755.1797,1193,751.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1191" x2="1395" y1="751.1797" y2="751.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1203" y="746.3232">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1221" y="746.3232">User</text><polygon fill="#181818" points="1028,777.5313,1018,781.5313,1028,785.5313,1024,781.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1022" x2="1175" y1="781.5313" y2="781.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1034" y="776.6748">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1052" y="776.6748">User</text><polygon fill="#181818" points="502,807.8828,492,811.8828,502,815.8828,498,811.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="496" x2="1006" y1="811.8828" y2="811.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="508" y="807.0264">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="526" y="807.0264">200 OK + Cookie</text><polygon fill="#181818" points="333,838.2344,323,842.2344,333,846.2344,329,842.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="327" x2="480" y1="842.2344" y2="842.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="339" y="837.3779">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="357" y="837.3779">200 OK</text><polygon fill="#181818" points="43.5,882.5859,33.5,886.5859,43.5,890.5859,39.5,886.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37.5" x2="311" y1="886.5859" y2="886.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="49.5" y="881.7295">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="67.5" y="881.7295">informs about the success of login</text><polygon fill="#181818" points="635.5,912.9375,645.5,916.9375,635.5,920.9375,639.5,916.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="32.5" x2="641.5" y1="916.9375" y2="916.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="39.5" y="912.0811">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="57.5" y="912.0811">I want to delete a user</text><polygon fill="#181818" points="802,943.2891,812,947.2891,802,951.2891,806,947.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="657.5" x2="808" y1="947.2891" y2="947.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="664.5" y="942.4326">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="682.5" y="942.4326">getUser()</text><polygon fill="#181818" points="995,973.6406,1005,977.6406,995,981.6406,999,977.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="1001" y1="977.6406" y2="977.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="831" y="972.7842">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="849" y="972.7842">GET getUser()</text><polygon fill="#181818" points="1164,1003.9922,1174,1007.9922,1164,1011.9922,1168,1007.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1017" x2="1170" y1="1007.9922" y2="1007.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1024" y="1003.1357">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1042" y="1003.1357">getUserByID()</text><polygon fill="#181818" points="1384,1034.3438,1394,1038.3438,1384,1042.3438,1388,1038.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1390" y1="1038.3438" y2="1038.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1193" y="1033.4873">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1211" y="1033.4873">findById(id)</text><polygon fill="#181818" points="1197,1064.6953,1187,1068.6953,1197,1072.6953,1193,1068.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1191" x2="1395" y1="1068.6953" y2="1068.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1203" y="1063.8389">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1221" y="1063.8389">User</text><polygon fill="#181818" points="1028,1095.0469,1018,1099.0469,1028,1103.0469,1024,1099.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1022" x2="1175" y1="1099.0469" y2="1099.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1034" y="1094.1904">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1052" y="1094.1904">User</text><polygon fill="#181818" points="835,1125.3984,825,1129.3984,835,1133.3984,831,1129.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="829" x2="1006" y1="1129.3984" y2="1129.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841" y="1124.542">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="859" y="1124.542">User</text><polygon fill="#181818" points="668.5,1155.75,658.5,1159.75,668.5,1163.75,664.5,1159.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="662.5" x2="813" y1="1159.75" y2="1159.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="674.5" y="1154.8936">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="692.5" y="1154.8936">User</text><polygon fill="#181818" points="43.5,1186.1016,33.5,1190.1016,43.5,1194.1016,39.5,1190.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37.5" x2="646.5" y1="1190.1016" y2="1190.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="49.5" y="1185.2451">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="67.5" y="1185.2451">displays the information of the user</text><polygon fill="#181818" points="635.5,1216.4531,645.5,1220.4531,635.5,1224.4531,639.5,1220.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="32.5" x2="641.5" y1="1220.4531" y2="1220.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="39.5" y="1215.5967">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="57.5" y="1215.5967">clicks on the delete button</text><polygon fill="#181818" points="802,1246.8047,812,1250.8047,802,1254.8047,806,1250.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="657.5" x2="808" y1="1250.8047" y2="1250.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="664.5" y="1245.9482">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="682.5" y="1245.9482">updateUser(data)</text><polygon fill="#181818" points="995,1277.1563,1005,1281.1563,995,1285.1563,999,1281.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="1001" y1="1281.1563" y2="1281.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="831" y="1276.2998">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="849" y="1276.2998">PATCH updateUser(data)</text><polygon fill="#181818" points="1164,1307.5078,1174,1311.5078,1164,1315.5078,1168,1311.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1017" x2="1170" y1="1311.5078" y2="1311.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1024" y="1306.6514">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1042" y="1306.6514">updateUser(data)</text><polygon fill="#181818" points="1384,1337.8594,1394,1341.8594,1384,1345.8594,1388,1341.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1390" y1="1341.8594" y2="1341.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1193" y="1337.0029">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="1211" y="1337.0029">save(data)</text><polygon fill="#181818" points="1197,1368.2109,1187,1372.2109,1197,1376.2109,1193,1372.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1191" x2="1395" y1="1372.2109" y2="1372.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1203" y="1367.3545">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1221" y="1367.3545"> </text><polygon fill="#181818" points="1028,1398.5625,1018,1402.5625,1028,1406.5625,1024,1402.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1022" x2="1175" y1="1402.5625" y2="1402.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1034" y="1397.7061">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1052" y="1397.7061"> </text><polygon fill="#181818" points="835,1428.9141,825,1432.9141,835,1436.9141,831,1432.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="829" x2="1006" y1="1432.9141" y2="1432.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841" y="1428.0576">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="859" y="1428.0576"> </text><polygon fill="#181818" points="668.5,1459.2656,658.5,1463.2656,668.5,1467.2656,664.5,1463.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="662.5" x2="813" y1="1463.2656" y2="1463.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="674.5" y="1458.4092">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="692.5" y="1458.4092"> </text><polygon fill="#181818" points="43.5,1489.6172,33.5,1493.6172,43.5,1497.6172,39.5,1493.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37.5" x2="646.5" y1="1493.6172" y2="1493.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="49.5" y="1488.7607">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="547" x="67.5" y="1488.7607">deletes the account, informs about the success of the operation and redirects to the login page</text><!--MD5=[bbfeaf1f9009370f31ff3317cfe3a384]
@startuml deleteUserSD
autonumber

!pragma teoz true
skinparam sequence {
ParticipantBorderColor black
ParticipantBackgroundColor white
}

actor "Admin" as admin

participant Google as Google <<System(C4)>>

box "<<System(C4)>>\n       EletricGo" #LightYellow

    box "<<Container(C4)>>\n           UI" #LightCyan
        
        participant LoginController as loginController <<Component(C4)>>
        participant LoginService as loginService <<Component(C4)>>
    
        participant CancelAccountComponent as cancelUserComponent <<Component(C4)>>
        participant AdminService as adminService <<Component(C4)>>
        
    end box

    box "<<Container(C4)>>\nAuthentication" #LightSkyBlue

        participant UserController as userController <<Container(C4)>> 
        participant UserService as userService <<Container(C4)>> 
        participant UserRepository as userRepository <<Container(C4)>> 

    end box


end box

activate admin
admin->loginController: I want to login

activate loginController

alt Login through email and password in EletricGo


    loginController -> loginService: login(email, password)
    activate loginService
    loginService -> userController: POST Login(email, password)
    activate userController

    userController -> userService: login(email, password)
    activate userService
    userService -> userRepository: findByEmail(email)
    activate userRepository
    userRepository - -> userService: User
    deactivate userRepository
    userService -> userService: checkPassword(password, User)
    userService - -> userController: Success
    deactivate userService


    userController - -> loginService: 200 OK + Cookie
    deactivate userController

    loginService - -> loginController: 200 OK
    deactivate loginService

else Login through Google

    loginController -> Google: Login with Google account
    activate Google
    Google - -> loginController: 200 OK
    deactivate
    loginController -> loginService: loginWithGoogle()
    activate loginService
    loginService -> userController: POST LoginWithGoogle()
    activate userController
    userController -> userService: userExists()
    activate userService
    userService -> userRepository: findByEmail(email)
    activate userRepository
    userRepository - -> userService: User
    deactivate userRepository
    userService - -> userController: User
    deactivate userService
    userController - -> loginService: 200 OK + Cookie
    deactivate userController
    loginService - -> loginController: 200 OK
    deactivate loginService

end

loginController - -> admin: informs about the success of login
deactivate loginController

admin -> cancelUserComponent: I want to delete a user
activate cancelUserComponent

cancelUserComponent -> adminService: getUser()
activate adminService

adminService -> userController: GET getUser()
activate userController

userController -> userService: getUserByID()
activate userService

userService -> userRepository: findById(id)
activate userRepository

userRepository - -> userService: User
deactivate userRepository

userService - -> userController: User
deactivate userService

userController - -> adminService: User
deactivate userController

adminService - -> cancelUserComponent: User
deactivate adminService






cancelUserComponent - -> admin: displays the information of the user

admin -> cancelUserComponent: clicks on the delete button

cancelUserComponent -> adminService: updateUser(data)
activate adminService

adminService -> userController: PATCH updateUser(data)
activate userController

userController -> userService: updateUser(data)
activate userService

userService -> userRepository: save(data)
activate userRepository

userRepository - -> userService
deactivate userRepository

userService - -> userController
deactivate userService

userController - -> adminService
deactivate userController

adminService - -> cancelUserComponent
deactivate adminService

cancelUserComponent - -> admin: deletes the account, informs about the success of the operation and redirects to the login page
deactivate cancelUserComponent

deactivate admin

@enduml

PlantUML version 1.2022.12(Sun Oct 23 18:12:26 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>